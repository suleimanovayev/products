<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core">


<div class="card">
    <h:form>
        <p:messages id="msgs"/>
        <h:panelGrid columns="1" cellpadding="2" styleClass="p-mb-3">
            <p:outputLabel for="firstName" value="First name:"/>
            <p:inputText id="firstName" value="#{registrationController.userDto.firstName}" required="true" label="FirstName">
                <f:validateLength minimum="5"/>
            </p:inputText>
            <p:message for="firstName" display="icon"/>

            <p:outputLabel for="lastname" value="LastName:"/>
            <p:inputText id="lastname" value="#{registrationController.userDto.lastName}" label="LastName" required="true">
                <f:validateLength minimum="5"/>
            </p:inputText>

            <p:outputLabel for="email" value="Email:"/>
            <p:inputText id="email" value="#{registrationController.userDto.email}" required="true" label="Email">
                <f:validator validatorId="emailValidator"  minimum="8"/>
            </p:inputText>
            <p:message for="email" display="icon"/>

            <p:outputLabel for="password" value="Password:"/>
            <p:inputText id="password" value="#{registrationController.userDto.password}" label="Password" required="true">
                <f:validateLength minimum="8"/>
                <p:ajax update="msgPassword" event="keyup"/>
            </p:inputText>
            <p:message for="password" id="msgPassword" display="icon"/>

            <p:outputLabel for="passwordConfirm" value="Password Confirm:"/>
            <p:inputText id="passwordConfirm"
                         value="#{registrationController.userDto.passwordConfirm}"
                         label="PasswordConfirm"
                         required="true"
                         validator="#{registrationController.isValidPasswordConfirm}">
                <f:validateLength minimum="8"/>
                <p:ajax update="msgPasswordConfirm" event="keyup"/>
            </p:inputText>
            <p:message for="passwordConfirm" id="msgPasswordConfirm" display="icon"/>
        </h:panelGrid>
        <p:commandButton value="Submit" update="@form" action="#{registrationController.save}" icon="pi pi-check"/>
    </h:form>
</div>
</html>